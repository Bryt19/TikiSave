<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TikTok Video & Audio Downloader - Free & Fast</title>
    <meta
      name="description"
      content="Download TikTok videos and audio for free. High quality downloads, no watermark, batch processing, and more features."
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      :root {
        --primary-color: #25f4ee;
        --secondary-color: #ff0050;
        --success-color: #4caf50;
        --warning-color: #ff9800;
        --danger-color: #e53935;
        --bg-color: #f9f9f9;
        --card-bg: #fff;
        --text-color: #333;
        --border-color: #ccc;
        --shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
      }

      [data-theme="dark"] {
        --bg-color: #1a1a1a;
        --card-bg: #2d2d2d;
        --text-color: #fff;
        --border-color: #555;
        --shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: var(--bg-color);
        color: var(--text-color);
        padding: 20px;
        transition: all 0.3s ease;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .theme-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--primary-color);
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        cursor: pointer;
        font-size: 20px;
        color: white;
        box-shadow: var(--shadow);
        transition: all 0.3s ease;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      .container {
        max-width: 800px;
        margin: auto;
        background: var(--card-bg);
        padding: 30px;
        border-radius: 16px;
        box-shadow: var(--shadow);
        transition: all 0.3s ease;
      }

      .logo {
        font-size: 2.5em;
        margin-bottom: 10px;
        background: linear-gradient(
          45deg,
          var(--primary-color),
          var(--secondary-color)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .subtitle {
        color: #666;
        margin-bottom: 30px;
        font-size: 1.1em;
      }

      .input-group {
        position: relative;
        margin-bottom: 20px;
      }

      .input-group input {
        width: 100%;
        padding: 15px 20px;
        font-size: 16px;
        border: 2px solid var(--border-color);
        border-radius: 12px;
        background: var(--card-bg);
        color: var(--text-color);
        transition: all 0.3s ease;
      }

      .input-group input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(37, 244, 238, 0.1);
      }

      .input-group .clear-btn {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.1);
        border: none;
        color: #666;
        cursor: pointer;
        font-size: 18px;
        padding: 8px;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        opacity: 0;
        visibility: hidden;
      }

      .input-group .clear-btn:hover {
        background: rgba(0, 0, 0, 0.2);
        color: #333;
        transform: translateY(-50%) scale(1.1);
      }

      .input-group .clear-btn.visible {
        opacity: 1;
        visibility: visible;
      }

      .btn {
        padding: 15px 30px;
        font-size: 16px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        text-align: center;
        margin: 5px;
      }

      .btn-primary {
        background: linear-gradient(45deg, var(--primary-color), #20d0cc);
        color: white;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(37, 244, 238, 0.4);
      }

      .btn-secondary {
        background: var(--secondary-color);
        color: white;
      }

      .btn-secondary:hover {
        background: #d10040;
        transform: translateY(-2px);
      }

      .btn-success {
        background: var(--success-color);
        color: white;
      }

      .btn-audio {
        background: #2196f3;
        color: white;
      }

      .btn-audio:hover {
        background: #1976d2;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
      }

      .btn-warning {
        background: var(--warning-color);
        color: white;
      }

      .btn-danger {
        background: var(--danger-color);
        color: white;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .feature-card {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        text-align: center;
        transition: all 0.3s ease;
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow);
      }

      .feature-icon {
        font-size: 2.5em;
        margin-bottom: 15px;
        color: var(--primary-color);
      }

      .video-info {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 12px;
        margin: 20px 0;
        border: 1px solid var(--border-color);
      }

      .video-preview {
        width: 100%;
        max-width: 400px;
        border-radius: 12px;
        margin: 15px 0;
      }

      .download-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .download-option {
        background: var(--card-bg);
        padding: 15px;
        border-radius: 8px;
        border: 1px solid var(--border-color);
        text-align: center;
      }

      .quality-badge {
        background: var(--primary-color);
        color: white;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 12px;
        margin-left: 10px;
      }

      .batch-input {
        margin: 20px 0;
      }

      .batch-input textarea {
        width: 100%;
        height: 100px;
        padding: 15px;
        border: 2px solid var(--border-color);
        border-radius: 12px;
        background: var(--card-bg);
        color: var(--text-color);
        font-family: inherit;
        resize: vertical;
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        background: var(--border-color);
        border-radius: 4px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: var(--primary-color);
        width: 0%;
        transition: width 0.3s ease;
      }

      .history {
        margin-top: 30px;
        background: var(--card-bg);
        padding: 25px;
        border-radius: 16px;
        border: 2px solid var(--border-color);
        box-shadow: var(--shadow);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .history::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(
          45deg,
          var(--primary-color),
          var(--secondary-color)
        );
      }

      .history h3 {
        margin-bottom: 20px;
        color: var(--text-color);
        font-size: 1.4em;
        display: flex;
        align-items: center;
        gap: 10px;
        padding-bottom: 15px;
        border-bottom: 2px solid var(--border-color);
      }

      .history-item {
        background: var(--bg-color);
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 15px;
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
        position: relative;
      }

      .history-item:hover {
        transform: translateX(5px);
        box-shadow: var(--shadow);
        border-color: var(--primary-color);
      }

      .history-item h4 {
        color: var(--primary-color);
        margin-bottom: 10px;
        font-size: 1.1em;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .history-item p {
        margin: 8px 0;
        color: var(--text-color);
        font-size: 0.95em;
      }

      .history-item p strong {
        color: var(--secondary-color);
      }

      .history-item small {
        color: #666;
        font-size: 0.85em;
      }

      .history-item a {
        color: var(--primary-color);
        text-decoration: none;
        margin: 0 10px;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .history-item a:hover {
        text-decoration: none;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(37, 244, 238, 0.3);
      }

      .history-item .download-buttons {
        margin-top: 15px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .history-item .download-buttons .btn {
        margin: 0;
        padding: 8px 16px;
        font-size: 13px;
        border-radius: 8px;
        min-width: 100px;
        font-weight: 600;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        letter-spacing: 0.5px;
      }

      .history-item .download-buttons .btn-primary {
        background: linear-gradient(45deg, var(--primary-color), #20d0cc);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.2);
      }

      .history-item .download-buttons .btn-audio {
        background: linear-gradient(45deg, #2196f3, #1976d2);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.2);
      }

      .history-item .download-buttons .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.4);
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .stat-card {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        border: 1px solid var(--border-color);
      }

      .stat-number {
        font-size: 2em;
        font-weight: bold;
        color: var(--primary-color);
      }

      .faq-section {
        margin-top: 40px;
      }

      .faq-item {
        background: var(--card-bg);
        margin-bottom: 15px;
        border-radius: 12px;
        overflow: hidden;
        border: 1px solid var(--border-color);
      }

      .faq-question {
        background: var(--primary-color);
        color: white;
        padding: 15px 20px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .faq-question:hover {
        background: #20d0cc;
      }

      .faq-answer {
        padding: 20px;
        display: none;
      }

      .faq-answer.active {
        display: block;
      }

      .social-share {
        margin: 30px 0;
        text-align: center;
      }

      .social-btn {
        display: inline-block;
        margin: 0 10px;
        padding: 10px 20px;
        border-radius: 25px;
        color: white;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .social-btn:hover {
        transform: translateY(-2px);
      }

      .facebook {
        background: #1877f2;
      }
      .twitter {
        background: #1da1f2;
      }
      .whatsapp {
        background: #25d366;
      }

      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid #f3f3f3;
        border-top: 3px solid var(--primary-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .error {
        background: #ffebee;
        color: #c62828;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid var(--danger-color);
      }

      .success {
        background: #e8f5e8;
        color: #2e7d32;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid var(--success-color);
      }

      .warning {
        background: #fff3e0;
        color: #ef6c00;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid var(--warning-color);
      }

      /* Mobile download status */
      .mobile-status {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--card-bg);
        border: 2px solid var(--primary-color);
        border-radius: 25px;
        padding: 12px 20px;
        box-shadow: var(--shadow);
        z-index: 1000;
        display: none;
        animation: slideUp 0.3s ease-out;
      }

      @keyframes slideUp {
        from {
          transform: translateX(-50%) translateY(100%);
          opacity: 0;
        }
        to {
          transform: translateX(-50%) translateY(0);
          opacity: 1;
        }
      }

      .mobile-status.show {
        display: block;
      }

      .mobile-status.success {
        border-color: var(--success-color);
        background: var(--success-color);
        color: white;
      }

      .mobile-status.error {
        border-color: var(--danger-color);
        background: var(--danger-color);
        color: white;
      }

      .mobile-status.info {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
      }

      @media (max-width: 768px) {
        .container {
          padding: 20px;
          margin: 10px;
        }

        .features-grid {
          grid-template-columns: 1fr;
        }

        .download-options {
          grid-template-columns: 1fr;
        }

        .stats {
          grid-template-columns: repeat(2, 1fr);
        }

        .theme-toggle {
          top: 10px;
          right: 10px;
          width: 40px;
          height: 40px;
          font-size: 16px;
        }

        /* Mobile-specific button improvements */
        .btn {
          padding: 18px 25px;
          font-size: 16px;
          min-height: 44px; /* iOS minimum touch target size */
        }

        .download-option .btn {
          width: 100%;
          margin: 10px 0;
        }

        .history-item .download-buttons .btn {
          min-height: 44px;
          padding: 12px 20px;
        }

        /* Mobile modal improvements */
        .modal-content {
          width: 95%;
          max-height: 95vh;
          margin: 10px;
        }

        .modal-body {
          padding: 20px;
        }

        .modal-footer {
          padding: 15px 20px;
        }
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Modal Styles */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        backdrop-filter: blur(5px);
      }

      .modal-content {
        background: var(--card-bg);
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        max-width: 500px;
        width: 90%;
        max-height: 90vh;
        overflow: hidden;
        animation: modalSlideIn 0.3s ease-out;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-50px) scale(0.9);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .modal-header {
        background: linear-gradient(
          45deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        padding: 20px;
        text-align: center;
      }

      .modal-header h3 {
        margin: 0;
        font-size: 1.3em;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .modal-body {
        padding: 25px;
        text-align: center;
      }

      .modal-body p {
        margin: 0;
        font-size: 1.1em;
        color: var(--text-color);
        line-height: 1.5;
      }

      .modal-footer {
        padding: 20px;
        display: flex;
        gap: 15px;
        justify-content: center;
        border-top: 1px solid var(--border-color);
      }

      .modal-footer .btn {
        min-width: 120px;
      }

      .modal-footer .btn-secondary {
        background: #6c757d;
        color: white;
      }

      .modal-footer .btn-secondary:hover {
        background: #5a6268;
        transform: translateY(-2px);
      }

      .modal-footer .btn-danger {
        background: var(--danger-color);
        color: white;
      }

      .modal-footer .btn-danger:hover {
        background: #c62828;
        transform: translateY(-2px);
      }
    </style>
  </head>
  <body>
    <button class="theme-toggle" id="themeToggle" title="Toggle Dark Mode">
      <i class="fas fa-moon"></i>
    </button>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-exclamation-triangle"></i> Confirm Action</h3>
        </div>
        <div class="modal-body">
          <p id="confirmMessage"></p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="hideConfirmModal()">
            Cancel
          </button>
          <button class="btn btn-danger" id="confirmActionBtn">Confirm</button>
        </div>
      </div>
    </div>

    <!-- Mobile Download Help Modal -->
    <div id="mobileHelpModal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-mobile-alt"></i> Mobile Download Help</h3>
        </div>
        <div class="modal-body">
          <div id="mobileHelpContent">
            <!-- Content will be populated based on device -->
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" onclick="hideMobileHelpModal()">
            Got it!
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Download Status Bar -->
    <div id="mobileStatus" class="mobile-status">
      <i class="fas fa-download"></i>
      <span id="mobileStatusText">Downloading...</span>
    </div>

    <div class="container">
      <div class="header">
        <div class="logo">🎵 TikTok Downloader Pro</div>
        <p class="subtitle">
          Download TikTok videos & audio in high quality • No watermark • Free &
          Fast
        </p>
      </div>

      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon"><i class="fas fa-video"></i></div>
          <h3>High Quality</h3>
          <p>Download videos in original quality without watermarks</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon"><i class="fas fa-music"></i></div>
          <h3>Audio Extract</h3>
          <p>Extract audio from TikTok videos in MP3 format</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon"><i class="fas fa-bolt"></i></div>
          <h3>Fast Download</h3>
          <p>Lightning-fast downloads with our optimized servers</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon"><i class="fas fa-list"></i></div>
          <h3>Batch Processing</h3>
          <p>Download multiple videos at once with batch processing</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon"><i class="fas fa-moon"></i></div>
          <h3>Dark Mode</h3>
          <p>Eye-friendly dark theme for comfortable browsing</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon"><i class="fas fa-history"></i></div>
          <h3>Download History</h3>
          <p>Keep track of all your downloads with detailed history</p>
        </div>
      </div>

      <div class="input-group">
        <input
          type="text"
          id="tiktokLink"
          placeholder="🔗 Paste TikTok link here (e.g., https://www.tiktok.com/@user/video/1234567890)"
        />
        <button class="clear-btn" id="clearInput" title="Clear input">×</button>
      </div>

      <div style="text-align: center">
        <button class="btn btn-primary" id="downloadBtn">
          <i class="fas fa-download"></i> Download Video
        </button>
        <button class="btn btn-secondary" id="batchBtn">
          <i class="fas fa-list"></i> Batch Download
        </button>
      </div>

      <div id="result"></div>

      <div class="batch-input" id="batchInput" style="display: none">
        <h3><i class="fas fa-list"></i> Batch Download</h3>
        <p>Enter multiple TikTok links (one per line):</p>
        <textarea
          id="batchLinks"
          placeholder="https://www.tiktok.com/@user/video/1234567890&#10;https://www.tiktok.com/@user/video/0987654321&#10;https://www.tiktok.com/@user/video/1122334455"
        ></textarea>
        <button class="btn btn-primary" id="processBatch">
          <i class="fas fa-play"></i> Process All Links
        </button>
        <div id="batchProgress" style="display: none">
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <p id="progressText">Processing...</p>
        </div>
      </div>

      <div class="stats">
        <div class="stat-card">
          <div class="stat-number" id="totalDownloads">0</div>
          <div>Total Downloads</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="todayDownloads">0</div>
          <div>Today</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="successRate">100%</div>
          <div>Success Rate</div>
        </div>
      </div>

      <div class="social-share">
        <h3>Share with Friends</h3>
        <br />
        <a href="#" class="social-btn facebook" onclick="shareOnFacebook()">
          <i class="fab fa-facebook-f"></i> Facebook
        </a>
        <a href="#" class="social-btn twitter" onclick="shareOnTwitter()">
          <i class="fab fa-twitter"></i> Twitter
        </a>
        <a href="#" class="social-btn whatsapp" onclick="shareOnWhatsApp()">
          <i class="fab fa-whatsapp"></i> WhatsApp
        </a>
        <a
          href="#"
          class="social-btn"
          style="background: #0077b5"
          onclick="shareOnLinkedIn()"
        >
          <i class="fab fa-linkedin-in"></i> LinkedIn
        </a>
        <a
          href="#"
          class="social-btn"
          style="background: #e4405f"
          onclick="shareOnPinterest()"
        >
          <i class="fab fa-pinterest-p"></i> Pinterest
        </a>
      </div>

      <div class="history">
        <h3><i class="fas fa-history"></i> Download History</h3>
        <div id="historyList"></div>
        <button id="clearHistory" class="btn btn-danger">
          <i class="fas fa-trash"></i> Clear History
        </button>
      </div>

      <div class="faq-section">
        <h3>
          <i class="fas fa-question-circle"></i> Frequently Asked Questions
        </h3>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <i class="fas fa-chevron-down"></i> How to download TikTok videos?
          </div>
          <div class="faq-answer">
            Simply paste the TikTok video link in the input field above and
            click "Download Video". You can download both video and audio
            versions.
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <i class="fas fa-chevron-down"></i> Is this service free?
          </div>
          <div class="faq-answer">
            Yes, our TikTok downloader is completely free to use. No
            registration or payment required.
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <i class="fas fa-chevron-down"></i> Can I download multiple videos
            at once?
          </div>
          <div class="faq-answer">
            Yes! Use the "Batch Download" feature to process multiple TikTok
            links simultaneously.
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <i class="fas fa-chevron-down"></i> Is it legal to download TikTok
            videos?
          </div>
          <div class="faq-answer">
            This tool is for personal use only. Please respect copyright laws
            and TikTok's terms of service.
          </div>
        </div>
      </div>

      <div
        class="footer"
        style="
          margin-top: 40px;
          padding-top: 30px;
          border-top: 1px solid var(--border-color);
          text-align: center;
        "
      >
        <h3><i class="fas fa-info-circle"></i> About This Tool</h3>
        <p style="margin: 15px 0; color: #666">
          This TikTok Downloader is a free, fast, and reliable tool that allows
          you to download TikTok videos and extract audio without watermarks.
          Perfect for content creators, researchers, and anyone who wants to
          save their favorite TikTok content.
        </p>

        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
          "
        >
          <div>
            <h4><i class="fas fa-shield-alt"></i> Privacy & Security</h4>
            <p style="font-size: 14px; color: #666">
              We don't store your videos or personal data. All downloads are
              processed securely.
            </p>
          </div>
          <div>
            <h4><i class="fas fa-globe"></i> Global Access</h4>
            <p style="font-size: 14px; color: #666">
              Works worldwide with support for all TikTok regions and languages.
            </p>
          </div>
          <div>
            <h4><i class="fas fa-clock"></i> 24/7 Availability</h4>
            <p style="font-size: 14px; color: #666">
              Our service is available around the clock for your convenience.
            </p>
          </div>
        </div>

        <div
          style="
            margin-top: 20px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 8px;
            border: 1px solid var(--border-color);
          "
        >
          <p style="margin: 0; font-size: 14px; color: #666">
            <i class="fas fa-exclamation-triangle"></i>
            <strong>Disclaimer:</strong> This tool is for educational and
            personal use only. Please respect copyright laws and TikTok's terms
            of service. We are not responsible for any misuse of this tool.
          </p>
        </div>
      </div>
    </div>

    <script>
      // Theme toggle functionality
      const themeToggle = document.getElementById("themeToggle");
      const body = document.body;

      // Check for saved theme preference
      const savedTheme = localStorage.getItem("theme") || "light";
      body.setAttribute("data-theme", savedTheme);
      updateThemeIcon(savedTheme);

      themeToggle.addEventListener("click", () => {
        const currentTheme = body.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";

        body.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        updateThemeIcon(newTheme);
      });

      function updateThemeIcon(theme) {
        const icon = themeToggle.querySelector("i");
        if (theme === "dark") {
          icon.className = "fas fa-sun";
          themeToggle.title = "Switch to Light Mode";
        } else {
          icon.className = "fas fa-moon";
          themeToggle.title = "Switch to Dark Mode";
        }
      }

      // Check if device is mobile
      function isMobileDevice() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
          navigator.userAgent
        );
      }

      // Check if device is iOS
      function isIOSDevice() {
        return /iPad|iPhone|iPod/.test(navigator.userAgent);
      }

      // Download file function that works on both desktop and mobile
      async function downloadFile(url, filename, type, event) {
        // Show loading state
        const button = event.target.closest("button");
        const originalText = button.innerHTML;

        try {
          button.innerHTML = '<div class="loading"></div> Downloading...';
          button.disabled = true;

          // Show mobile-specific message for first-time users
          if (
            isMobileDevice() &&
            !localStorage.getItem("mobileDownloadShown")
          ) {
            setTimeout(() => {
              showMessage(
                `📱 Mobile detected! Tap the help button for download instructions.`,
                "warning"
              );
              localStorage.setItem("mobileDownloadShown", "true");
            }, 1000);
          }

          // For mobile devices, we need to handle downloads differently
          if (isMobileDevice()) {
            // Mobile device - use fetch and create blob URL
            const response = await fetch(url);
            if (!response.ok) throw new Error("Network response was not ok");

            // Show download progress for mobile users
            if (isMobileDevice()) {
              button.innerHTML = '<div class="loading"></div> Processing...';
              showMobileStatus("Processing video/audio...", "info");
            }

            const blob = await response.blob();
            const blobUrl = window.URL.createObjectURL(blob);

            // For iOS devices, we need to handle downloads differently
            if (isIOSDevice()) {
              // iOS - open in new tab and let user save manually
              const newTab = window.open(blobUrl, "_blank");
              if (newTab) {
                showMessage(
                  `${
                    type === "video" ? "Video" : "Audio"
                  } opened in new tab. Long press to save on iOS.`,
                  "success"
                );

                // Add mobile success animation
                if (isMobileDevice()) {
                  button.style.background = "var(--success-color)";
                  button.innerHTML = '<i class="fas fa-check"></i> Success!';
                  button.disabled = false;
                  showMobileStatus(
                    "Video opened! Long press to save.",
                    "success"
                  );
                  setTimeout(() => {
                    button.style.background = "";
                    button.innerHTML = originalText;
                  }, 2000);
                }

                // Show iOS-specific instructions
                setTimeout(() => {
                  showMessage(
                    `💡 Tip: Long press the video/audio in the new tab and select "Save to Files" or "Save to Photos"`,
                    "warning"
                  );
                }, 2000);
              } else {
                // Fallback for blocked popups
                showMessage(
                  `Please allow popups and try again, or long press the download button to save.`,
                  "warning"
                );

                // Alternative approach for iOS - try to trigger download directly
                try {
                  const link = document.createElement("a");
                  link.href = blobUrl;
                  link.download = filename;
                  link.style.display = "none";
                  document.body.appendChild(link);
                  link.click();
                  document.body.removeChild(link);
                  showMessage(
                    `Alternative download method attempted. Check your Downloads folder.`,
                    "success"
                  );

                  // Add success animation for fallback method
                  if (isMobileDevice()) {
                    button.style.background = "var(--success-color)";
                    button.innerHTML = '<i class="fas fa-check"></i> Success!';
                    button.disabled = false;
                    showMobileStatus("Download attempted!", "success");
                    setTimeout(() => {
                      button.style.background = "";
                      button.innerHTML = originalText;
                    }, 2000);
                  }
                } catch (fallbackError) {
                  console.error("Fallback download failed:", fallbackError);
                }
              }
            } else {
              // Android and other mobile devices
              const link = document.createElement("a");
              link.href = blobUrl;
              link.download = filename;
              link.style.display = "none";

              // Append to body, click, and cleanup
              document.body.appendChild(link);
              link.click();
              document.body.removeChild(link);

              showMessage(
                `${type === "video" ? "Video" : "Audio"} download started!`,
                "success"
              );

              // Add mobile success animation
              if (isMobileDevice()) {
                button.style.background = "var(--success-color)";
                button.innerHTML = '<i class="fas fa-check"></i> Success!';
                button.disabled = false;
                showMobileStatus(
                  "Download started! Check your Downloads folder.",
                  "success"
                );
                setTimeout(() => {
                  button.style.background = "";
                  button.innerHTML = originalText;
                }, 2000);
              }
            }

            // Clean up the blob URL
            setTimeout(() => {
              window.URL.revokeObjectURL(blobUrl);
            }, 1000);
          } else {
            // Desktop device - use traditional download
            const link = document.createElement("a");
            link.href = url;
            link.download = filename;
            link.style.display = "none";

            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            showMessage(
              `${type === "video" ? "Video" : "Audio"} download started!`,
              "success"
            );

            // Add success animation for desktop
            button.style.background = "var(--success-color)";
            button.innerHTML = '<i class="fas fa-check"></i> Success!';
            button.disabled = false;
            if (isMobileDevice()) {
              showMobileStatus("Download started!", "success");
            }
            setTimeout(() => {
              button.style.background = "";
              button.innerHTML = originalText;
            }, 2000);
          }
        } catch (error) {
          console.error("Download error:", error);

          // Mobile-specific error messages
          if (isMobileDevice()) {
            if (error.message.includes("Network response was not ok")) {
              showMessage(
                `Network error. Please check your internet connection and try again.`,
                "error"
              );
              showMobileStatus("Network error!", "error");
            } else if (isIOSDevice()) {
              showMessage(
                `iOS download failed. Try the help button for alternative methods.`,
                "error"
              );
              showMobileStatus("iOS download failed!", "error");
            } else {
              showMessage(
                `Mobile download failed. Please try again or check your device settings.`,
                "error"
              );
              showMobileStatus("Download failed!", "error");
            }
          } else {
            showMessage(
              `Failed to download ${type}. Please try again.`,
              "error"
            );
          }
        } finally {
          // Only restore button state if there was an error or if not in success state
          if (button && !button.innerHTML.includes("Success!")) {
            button.innerHTML = originalText;
            button.disabled = false;
          }
        }
      }

      // Main functionality
      const btn = document.getElementById("downloadBtn");
      const input = document.getElementById("tiktokLink");
      const result = document.getElementById("result");
      const historyList = document.getElementById("historyList");
      const clearBtn = document.getElementById("clearHistory");
      const clearInputBtn = document.getElementById("clearInput");
      const batchBtn = document.getElementById("batchBtn");
      const batchInput = document.getElementById("batchInput");
      const processBatchBtn = document.getElementById("processBatch");

      // Load saved history and stats
      let history = JSON.parse(localStorage.getItem("downloadHistory")) || [];
      let stats = JSON.parse(localStorage.getItem("downloadStats")) || {
        total: 0,
        today: 0,
        success: 0,
        failed: 0,
        lastResetDate: new Date().toDateString(),
      };

      // Check if we need to reset today's count (new day)
      function checkDailyReset() {
        const today = new Date().toDateString();
        const lastReset = stats.lastResetDate || new Date().toDateString();

        if (lastReset !== today) {
          // Reset today's count for new day
          stats.today = 0;
          stats.lastResetDate = today;
          localStorage.setItem("downloadStats", JSON.stringify(stats));
          console.log("Daily stats reset - new day started");
        }
      }

      renderHistory();
      updateStats();

      // Initialize clear button state
      toggleClearButton();

      // Set up daily reset check - check every hour and at midnight
      setInterval(checkDailyReset, 60 * 60 * 1000); // Check every hour

      // Also check when the page becomes visible (user returns to tab)
      document.addEventListener("visibilitychange", () => {
        if (!document.hidden) {
          checkDailyReset();
          updateStats();
        }
      });

      // Clear input button functionality
      function toggleClearButton() {
        if (input.value.trim() !== "") {
          clearInputBtn.classList.add("visible");
        } else {
          clearInputBtn.classList.remove("visible");
        }
      }

      // Show/hide clear button based on input content
      input.addEventListener("input", toggleClearButton);
      input.addEventListener("paste", toggleClearButton);
      input.addEventListener("keyup", toggleClearButton);

      clearInputBtn.addEventListener("click", () => {
        input.value = "";
        input.focus();
        toggleClearButton();
      });

      // Batch download toggle
      batchBtn.addEventListener("click", () => {
        batchInput.style.display =
          batchInput.style.display === "none" ? "block" : "none";
        batchBtn.innerHTML =
          batchInput.style.display === "none"
            ? '<i class="fas fa-list"></i> Batch Download'
            : '<i class="fas fa-times"></i> Close Batch';
      });

      // Main download functionality
      btn.addEventListener("click", async () => {
        await downloadVideo(input.value.trim());
      });

      // Process batch downloads
      processBatchBtn.addEventListener("click", async () => {
        const links = document
          .getElementById("batchLinks")
          .value.trim()
          .split("\n")
          .filter((link) => link.trim());
        if (links.length === 0) {
          showMessage("Please enter at least one TikTok link", "error");
          return;
        }

        const progressBar = document.getElementById("batchProgress");
        const progressFill = document.getElementById("progressFill");
        const progressText = document.getElementById("progressText");

        progressBar.style.display = "block";
        processBatchBtn.disabled = true;

        for (let i = 0; i < links.length; i++) {
          const link = links[i].trim();
          if (link) {
            progressText.textContent = `Processing ${i + 1} of ${
              links.length
            }: ${link.substring(0, 50)}...`;
            progressFill.style.width = `${((i + 1) / links.length) * 100}%`;

            try {
              await downloadVideo(link, true);
              await new Promise((resolve) => setTimeout(resolve, 1000)); // Delay between requests
            } catch (error) {
              console.error(`Failed to process: ${link}`, error);
            }
          }
        }

        progressBar.style.display = "none";
        processBatchBtn.disabled = false;
        showMessage(
          `Batch processing complete! Processed ${links.length} links.`,
          "success"
        );
      });

      async function downloadVideo(url, isBatch = false) {
        if (!url) {
          if (!isBatch) showMessage("Please enter a TikTok link", "error");
          return;
        }

        if (!isBatch) {
          result.innerHTML = '<div class="loading"></div> Fetching video...';
        }

        try {
          const apiURL = `https://www.tikwm.com/api/?url=${encodeURIComponent(
            url
          )}`;
          const res = await fetch(apiURL);
          const data = await res.json();

          // Debug: Log the API response structure (remove this in production)
          console.log("API Response:", data);
          if (data.data) {
            console.log("Video Data:", data.data);
            console.log("Author Object:", data.data.author);
            console.log("Title Object:", data.data.title);
          }

          if (data && data.data) {
            const videoURL = data.data.play;
            const audioURL = data.data.music;
            const coverURL = data.data.cover;

            // Better author extraction with fallbacks
            let author = "Unknown";
            if (data.data.author) {
              if (typeof data.data.author === "string") {
                author = data.data.author;
              } else if (data.data.author.nickname) {
                author = data.data.author.nickname;
              } else if (data.data.author.unique_id) {
                author = data.data.author.unique_id;
              } else if (data.data.author.name) {
                author = data.data.author.name;
              }
            }

            // Better title extraction with fallbacks
            let title = "TikTok Video";
            if (data.data.title) {
              if (typeof data.data.title === "string") {
                title = data.data.title;
              } else if (data.data.title.text) {
                title = data.data.title.text;
              }
            }

            // Clean up the extracted values
            author = author.toString().trim() || "Unknown";
            title = title.toString().trim() || "TikTok Video";

            if (!isBatch) {
              result.innerHTML = `
              <div class="video-info fade-in">
                <h3><i class="fas fa-info-circle"></i> Video Information</h3>
                <p><strong>Author:</strong> ${author}</p>
                <p><strong>Title:</strong> ${title}</p>
                ${
                  coverURL
                    ? `<img src="${coverURL}" alt="Video Cover" class="video-preview">`
                    : ""
                }
                
                <div class="download-options">
                  <div class="download-option">
                    <h4><i class="fas fa-video"></i> Video Download</h4>
                    <button onclick="downloadFile('${videoURL}', 'tiktok-video.mp4', 'video', event)" class="btn btn-primary">
                      <i class="fas fa-download"></i> Download Video
                    </button>
                  </div>
                  <div class="download-option">
                    <h4><i class="fas fa-music"></i> Audio Download</h4>
                    <button onclick="downloadFile('${audioURL}', 'tiktok-audio.mp3', 'audio', event)" class="btn btn-audio">
                      <i class="fas fa-download"></i> Download Audio
                    </button>
                  </div>
                </div>
              </div>
            `;
            }

            // Save to history
            const item = {
              link: url,
              video: videoURL,
              audio: audioURL,
              author: author,
              title: title,
              date: new Date().toLocaleString(),
            };
            history.unshift(item);
            if (history.length > 20) history.pop(); // Keep max 20
            localStorage.setItem("downloadHistory", JSON.stringify(history));

            // Update stats
            stats.total++;
            stats.success++;
            if (isToday(new Date())) stats.today++;
            localStorage.setItem("downloadStats", JSON.stringify(stats));

            if (!isBatch) {
              renderHistory();
              updateStats();
              showMessage("Video fetched successfully!", "success");
            }
          } else {
            if (!isBatch) {
              result.innerHTML =
                '<div class="error">❌ Could not fetch video. Please check the link and try again.</div>';
            }
            stats.failed++;
            localStorage.setItem("downloadStats", JSON.stringify(stats));
          }
        } catch (err) {
          console.error(err);
          if (!isBatch) {
            result.innerHTML =
              '<div class="error">⚠️ Error fetching video. Please try again later.</div>';
          }
          stats.failed++;
          localStorage.setItem("downloadStats", JSON.stringify(stats));
        }
      }

      function showMessage(message, type) {
        const messageDiv = document.createElement("div");
        messageDiv.className = type;
        messageDiv.textContent = message;
        result.appendChild(messageDiv);

        setTimeout(() => {
          messageDiv.remove();
        }, 5000);
      }

      function isToday(date) {
        const today = new Date();
        return (
          date.getDate() === today.getDate() &&
          date.getMonth() === today.getMonth() &&
          date.getFullYear() === today.getFullYear()
        );
      }

      function updateStats() {
        // Check for daily reset before updating stats
        checkDailyReset();

        document.getElementById("totalDownloads").textContent = stats.total;
        document.getElementById("todayDownloads").textContent = stats.today;
        const successRate =
          stats.total > 0
            ? Math.round((stats.success / stats.total) * 100)
            : 100;
        document.getElementById("successRate").textContent = successRate + "%";
      }

      clearBtn.addEventListener("click", () => {
        showConfirmModal(
          "Are you sure you want to clear all download history?",
          () => {
            history = [];
            localStorage.removeItem("downloadHistory");
            renderHistory();
            hideConfirmModal();
          }
        );
      });

      function renderHistory() {
        historyList.innerHTML = "";
        const clearHistoryBtn = document.getElementById("clearHistory");

        if (history.length === 0) {
          historyList.innerHTML = `
              <div style="text-align: center; padding: 40px 20px; color: #666;">
                <i class="fas fa-history" style="font-size: 3em; margin-bottom: 15px; opacity: 0.5;"></i>
                <p style="font-size: 1.1em; margin-bottom: 10px;">No downloads yet</p>
                <p style="font-size: 0.9em;">Start by downloading your first TikTok video!</p>
              </div>
            `;
          // Hide clear history button when no history
          clearHistoryBtn.style.display = "none";
          return;
        }

        // Show clear history button when there's history
        clearHistoryBtn.style.display = "inline-block";

        history.forEach((item, index) => {
          const div = document.createElement("div");
          div.className = "history-item fade-in";
          div.style.animationDelay = `${index * 0.1}s`;
          div.innerHTML = `
             <h4><i class="fas fa-user"></i> ${item.author}</h4>
             <p><strong>Title:</strong> ${item.title}</p>
             <p><small><i class="fas fa-calendar"></i> ${item.date}</small></p>
             <p><small><i class="fas fa-link"></i> ${item.link.substring(
               0,
               50
             )}...</small></p>
             <div class="download-buttons">
               <button onclick="downloadFile('${
                 item.video
               }', 'tiktok-video.mp4', 'video', event)" class="btn btn-primary">
                 <i class="fas fa-video"></i> Video
               </button>
                               <button onclick="downloadFile('${
                                 item.audio
                               }', 'tiktok-audio.mp3', 'audio', event)" class="btn btn-audio">
                  <i class="fas fa-music"></i> Audio
                </button>
              </div>
        `;
          historyList.appendChild(div);
        });
      }

      // FAQ functionality
      function toggleFAQ(element) {
        const answer = element.nextElementSibling;
        const icon = element.querySelector("i");

        if (answer.classList.contains("active")) {
          answer.classList.remove("active");
          icon.className = "fas fa-chevron-down";
        } else {
          answer.classList.add("active");
          icon.className = "fas fa-chevron-up";
        }
      }

      // Social sharing functions
      function shareOnFacebook() {
        const url = encodeURIComponent(window.location.href);
        const text = encodeURIComponent(
          "Check out this amazing TikTok Downloader!"
        );
        window.open(
          `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`,
          "_blank"
        );
      }

      function shareOnTwitter() {
        const url = encodeURIComponent(window.location.href);
        const text = encodeURIComponent(
          "Amazing TikTok Downloader - Download videos and audio for free!"
        );
        window.open(
          `https://twitter.com/intent/tweet?url=${url}&text=${text}`,
          "_blank"
        );
      }

      function shareOnWhatsApp() {
        const url = encodeURIComponent(window.location.href);
        const text = encodeURIComponent("Check out this TikTok Downloader!");
        window.open(`https://wa.me/?text=${text}%20${url}`, "_blank");
      }

      function shareOnLinkedIn() {
        const url = encodeURIComponent(window.location.href);
        const text = encodeURIComponent(
          "Amazing TikTok Downloader - Download videos and audio for free!"
        );
        window.open(
          `https://www.linkedin.com/sharing/share-offsite/?url=${url}`,
          "_blank"
        );
      }

      function shareOnPinterest() {
        const url = encodeURIComponent(window.location.href);
        const text = encodeURIComponent(
          "TikTok Downloader - Free Video & Audio Downloads"
        );
        window.open(
          `https://pinterest.com/pin/create/button/?url=${url}&description=${text}`,
          "_blank"
        );
      }

      // Enter key support
      input.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          btn.click();
        }
      });

      // Auto-focus input on page load
      window.addEventListener("load", () => {
        input.focus();
        updateStats();
        restoreScrollPosition();
      });

      // Save scroll position before page unload
      window.addEventListener("beforeunload", () => {
        localStorage.setItem("scrollPosition", window.scrollY);
        localStorage.setItem("activeSection", getCurrentActiveSection());
        localStorage.setItem("openFAQs", JSON.stringify(getOpenFAQs()));
      });

      // Restore scroll position and section state
      function restoreScrollPosition() {
        const savedPosition = localStorage.getItem("scrollPosition");
        const activeSection = localStorage.getItem("activeSection");

        if (savedPosition) {
          setTimeout(() => {
            window.scrollTo(0, parseInt(savedPosition));
          }, 100);
        }

        if (activeSection) {
          setTimeout(() => {
            showSection(activeSection);
          }, 200);
        }

        // Restore FAQ state
        setTimeout(() => {
          restoreFAQState();
        }, 300);
      }

      // Get current active section
      function getCurrentActiveSection() {
        if (batchInput.style.display !== "none") return "batch";
        if (result.innerHTML && !result.innerHTML.includes("loading"))
          return "result";
        return "main";
      }

      // Show specific section
      function showSection(section) {
        switch (section) {
          case "batch":
            batchInput.style.display = "block";
            batchBtn.innerHTML = '<i class="fas fa-times"></i> Close Batch';
            break;
          case "result":
            // Result section is already visible if there's content
            break;
          default:
            // Main section - ensure batch is closed
            batchInput.style.display = "none";
            batchBtn.innerHTML = '<i class="fas fa-list"></i> Batch Download';
        }
      }

      // Get currently open FAQs
      function getOpenFAQs() {
        const openFAQs = [];
        document
          .querySelectorAll(".faq-answer.active")
          .forEach((answer, index) => {
            openFAQs.push(index);
          });
        return openFAQs;
      }

      // Restore FAQ state
      function restoreFAQState() {
        const openFAQs = JSON.parse(localStorage.getItem("openFAQs") || "[]");
        openFAQs.forEach((index) => {
          const faqItems = document.querySelectorAll(".faq-item");
          if (faqItems[index]) {
            const question = faqItems[index].querySelector(".faq-question");
            const answer = faqItems[index].querySelector(".faq-answer");
            const icon = question.querySelector("i");

            answer.classList.add("active");
            icon.className = "fas fa-chevron-up";
          }
        });
      }

      // Keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        // Ctrl/Cmd + Enter to download
        if ((e.ctrlKey || e.metaKey) && e.key === "Enter") {
          e.preventDefault();
          btn.click();
        }

        // Ctrl/Cmd + K to focus input
        if ((e.ctrlKey || e.metaKey) && e.key === "k") {
          e.preventDefault();
          input.focus();
        }

        // Escape to clear input
        if (e.key === "Escape") {
          input.value = "";
          input.focus();
        }
      });

      // Modal functions
      function showConfirmModal(message, onConfirm) {
        const modal = document.getElementById("confirmModal");
        const messageEl = document.getElementById("confirmMessage");
        const confirmBtn = document.getElementById("confirmActionBtn");

        messageEl.textContent = message;
        modal.style.display = "flex";

        // Store the callback
        confirmBtn.onclick = onConfirm;

        // Close modal on overlay click
        modal.onclick = (e) => {
          if (e.target === modal) {
            hideConfirmModal();
          }
        };

        // Close modal on Escape key
        document.addEventListener("keydown", handleModalKeydown);
      }

      function hideConfirmModal() {
        const modal = document.getElementById("confirmModal");
        modal.style.display = "none";
        document.removeEventListener("keydown", handleModalKeydown);
      }

      function showMobileHelpModal() {
        const modal = document.getElementById("mobileHelpModal");
        const content = document.getElementById("mobileHelpContent");

        if (isIOSDevice()) {
          content.innerHTML = `
            <div style="text-align: left;">
              <h4><i class="fas fa-apple"></i> iOS Download Instructions:</h4>
              <ol style="margin: 15px 0; padding-left: 20px;">
                <li>Tap the download button</li>
                <li>The video/audio will open in a new tab</li>
                <li>Long press on the video/audio</li>
                <li>Select "Save to Files" or "Save to Photos"</li>
                <li>Choose your preferred location</li>
              </ol>
              <p style="color: var(--warning-color); font-weight: bold;">
                <i class="fas fa-info-circle"></i> Note: iOS requires manual saving due to security restrictions.
              </p>
            </div>
          `;
        } else if (isMobileDevice()) {
          content.innerHTML = `
            <div style="text-align: left;">
              <h4><i class="fas fa-android"></i> Android Download Instructions:</h4>
              <ol style="margin: 15px 0; padding-left: 20px;">
                <li>Tap the download button</li>
                <li>Allow download permissions if prompted</li>
                <li>File will be saved to your Downloads folder</li>
                <li>Check your notification panel for download progress</li>
              </ol>
              <p style="color: var(--success-color); font-weight: bold;">
                <i class="fas fa-check-circle"></i> Downloads should work automatically on most Android devices.
              </p>
            </div>
          `;
        }

        modal.style.display = "flex";

        // Close modal on overlay click
        modal.onclick = (e) => {
          if (e.target === modal) {
            hideMobileHelpModal();
          }
        };
      }

      function hideMobileHelpModal() {
        const modal = document.getElementById("mobileHelpModal");
        modal.style.display = "none";
      }

      // Mobile status bar functions
      function showMobileStatus(message, type = "info") {
        if (!isMobileDevice()) return;

        const statusBar = document.getElementById("mobileStatus");
        const statusText = document.getElementById("mobileStatusText");

        statusText.textContent = message;
        statusBar.className = `mobile-status show ${type}`;

        // Auto-hide after 5 seconds
        setTimeout(() => {
          hideMobileStatus();
        }, 5000);
      }

      function hideMobileStatus() {
        const statusBar = document.getElementById("mobileStatus");
        statusBar.classList.remove("show");
      }

      function updateMobileStatus(message) {
        if (!isMobileDevice()) return;

        const statusText = document.getElementById("mobileStatusText");
        if (statusText) {
          statusText.textContent = message;
        }
      }

      function handleModalKeydown(e) {
        if (e.key === "Escape") {
          hideConfirmModal();
        }
      }

      // Show keyboard shortcuts help
      const shortcutsHelp = `
       <div style="margin: 20px 0; padding: 15px; background: var(--card-bg); border-radius: 8px; border: 1px solid var(--border-color);">
         <h4><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h4>
         <p style="margin: 10px 0; font-size: 14px;">
           <strong>Ctrl/Cmd + Enter:</strong> Download video<br>
           <strong>Ctrl/Cmd + K:</strong> Focus input field<br>
           <strong>Escape:</strong> Clear input field
         </p>
       </div>
     `;

      // Add shortcuts help after the input group
      setTimeout(() => {
        const inputGroup = document.querySelector(".input-group");
        if (inputGroup) {
          const helpDiv = document.createElement("div");
          helpDiv.innerHTML = shortcutsHelp;
          inputGroup.parentNode.insertBefore(helpDiv, inputGroup.nextSibling);
        }
      }, 1000);
    </script>
  </body>
</html>
